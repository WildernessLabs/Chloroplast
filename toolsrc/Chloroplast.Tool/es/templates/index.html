<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plantillas</title>
    <link href="/assets/main.css?v=20251214001119" rel="stylesheet" />
</head>
<body>
    <header class="site-header">
        <div class="container site-header-container">
            <h1 class="site-title"><a href="/es/">Chloroplast Docs</a></h1>
            <nav class="locale-nav" aria-label="Language selector">
                <ul class="locale-nav-list">
                    <li class="locale-nav-item">
                        <a href="/templates/" class="locale-nav-link" title="English">&#127482;&#127480; <span class="locale-code">en</span></a>
                    </li>
                    <li class="locale-nav-item">
                        <a href="/es/templates/" class="locale-nav-link active" title="Espa&#241;ol" aria-current=&quot;true&quot;>&#127466;&#127480; <span class="locale-code">es</span></a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container" style="margin-left:0; max-width:100%;">
    <div class="row">
    

<div id="leftnav">
            <ul class="nav">
                <li class="nav-item">
                    <a href="/es/installing/" class="nav-link">Instalaci&#243;n</a>
                </li>
                <li class="nav-item">
                    <a href="/es/cli/" class="nav-link">L&#237;nea de Comandos</a>
                </li>
                <li class="nav-item">
                    <a href="/es/templates/" class="nav-link">Plantillas</a>
                </li>
                <li class="nav-item">
                    <a href="/es/localization/" class="nav-link">Localizaci&#243;n</a>
                </li>
        </ul>

</div>
        <div class="main-content">
            <h2>Plantillas</h2>
            

    <div class="machine-translation-warning" role="alert">
        <strong>ü§ñ Traducci√≥n Autom√°tica:</strong>
        Este contenido fue traducido autom√°ticamente y puede contener errores.
    </div>


            <p>Las plantillas de Chloroplast est√°n construidas usando las plantillas Razor de ASP.NET.</p>
<a name="Configuraci√≥n"></a><h1>Configuraci√≥n</h1>
<p>El archivo <code>SiteConfig.yml</code> te permite configurar la ubicaci√≥n de las plantillas y las carpetas para encontrar archivos de contenido para procesar.</p>
<pre><code class="language-yaml"># plantillas razor
templates_folder: templates

areas:
  - source_folder: /source
    output_folder: /
</code></pre>
<a name="Front_matter_de_Markdown"></a><h1>Front matter de Markdown</h1>
<p>La plantilla ser√° definida por el front matter del contenido.</p>
<pre><code>---
template: NombrePlantilla
title: T√≠tulo del documento
---
</code></pre>
<p>Si este valor es incorrecto, u omitido, buscar√° por defecto una plantilla llamada <code>Default.cshtml</code>. Se asume que estas plantillas son solo para el √°rea de contenido en s√≠ misma.</p>
<a name="SiteFrame_cshtml"></a><h1>SiteFrame.cshtml</h1>
<p>Para el chrome principal del sitio, Chloroplast buscar√° una plantilla llamada <code>SiteFrame.cshtml</code> por defecto. Este es el marco o &quot;chrome&quot; exterior que envuelve tu contenido.</p>
<p>Tambi√©n puedes especificar una plantilla de marco diferente para archivos de contenido individuales agregando una propiedad <code>frame:</code> al front matter:</p>
<pre><code>---
template: NombrePlantilla
frame: MarcoPersonalizado
title: T√≠tulo del documento
---
</code></pre>
<p>Si no se especifica <code>frame:</code>, Chloroplast usa <code>SiteFrame.cshtml</code> por defecto.</p>
<a name="Ejemplo_de_Plantilla_de_Marco"></a><h2>Ejemplo de Plantilla de Marco</h2>
<p>La plantilla SiteFrame renderiza la estructura completa de la p√°gina:</p>
<pre><code>&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;@Model.GetMeta(&quot;Title&quot;)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class=&quot;maincontent&quot;&gt;
    @Raw(Model.Body)
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<a name="Manejo_de_Errores"></a><h2>Manejo de Errores</h2>
<p>Si no se encuentra una plantilla de marco especificada:</p>
<ul>
<li>Se registra un mensaje de error en la consola</li>
<li>El archivo de contenido afectado se omite (no se renderiza una p√°gina incompleta)</li>
<li>La compilaci√≥n contin√∫a procesando otros archivos</li>
<li>El error se incluye en el resumen de errores de compilaci√≥n</li>
</ul>
<p>Esto asegura que el proceso de compilaci√≥n no se detenga completamente debido a un marco faltante, pero ser√°s notificado del problema.</p>
<a name="Personalizando_Plantillas"></a><h1>Personalizando Plantillas</h1>
<p>Al dise√±ar plantillas personalizadas para Chloroplast, enf√≥cate en aprovechar los m√©todos de plantilla disponibles y asegurar que tus plantillas manejen efectivamente toda la gama de caracter√≠sticas de Chloroplast.</p>
<a name="Referencia_de_Estructura_de_Plantillas"></a><h2>Referencia de Estructura de Plantillas</h2>
<p>Para la estructura de plantillas recomendada y patrones, consulta las plantillas incluidas:</p>
<ul>
<li><strong>SiteFrame.cshtml</strong> - La plantilla principal del chrome del sitio que proporciona la estructura general de la p√°gina, navegaci√≥n y carga de recursos</li>
<li><strong>Default.cshtml</strong> - La plantilla de contenido predeterminada que demuestra el dise√±o del √°rea de contenido y el manejo de metadatos</li>
</ul>
<p>Estas plantillas sirven como la estructura recomendada de facto y demuestran las mejores pr√°cticas para:</p>
<ul>
<li>Usar <code>@Href()</code> para enlaces de navegaci√≥n interna con manejo de BasePath</li>
<li>Usar <code>@Asset()</code> para referencias de recursos con invalidaci√≥n autom√°tica de cach√©</li>
<li>Manejar metadatos de contenido con <code>@Model.GetMeta()</code></li>
<li>Renderizar contenido con <code>@Raw(Model.Body)</code></li>
<li>Trabajar con la colecci√≥n <code>@Model.Headers</code> para tabla de contenidos</li>
</ul>
<a name="Propiedades_y_M√©todos_de_Plantilla"></a><h1>Propiedades y M√©todos de Plantilla</h1>
<p>Disponibles para todas las plantillas est√°n las siguientes funciones:</p>
<ul>
<li><code>@Raw(&quot;&lt;alguna cadena&gt;&quot;)</code>
<ul>
<li>el m√©todo <code>Raw</code> evitar√° la codificaci√≥n HTML del contenido (que es el predeterminado).</li>
</ul>
</li>
<li><code>@Model.Body</code>
<ul>
<li>Este es el contenido HTML principal que se est√° renderizando en esta plantilla. Debes generar esto a trav√©s del m√©todo <code>Raw</code> ya que probablemente contendr√° HTML.</li>
</ul>
</li>
<li><code>@Model.GetMeta(&quot;title&quot;)</code>
<ul>
<li>con esto puedes acceder a cualquier valor en el front matter (por ejemplo, <code>title</code>).</li>
</ul>
</li>
<li><code>@await PartialAsync(&quot;NombrePlantilla&quot;, Model)</code>
<ul>
<li>Esto te permite renderizar sub plantillas.</li>
<li>el par√°metro del nombre de plantilla coincidir√° con el nombre del archivo razor... as√≠ que en el ejemplo anterior, estar√≠a buscando un archivo llamado <code>Templates/NombrePlantilla.cshtml</code></li>
<li>el segundo par√°metro es el modelo a pasar a la plantilla (t√≠picamente <code>Model</code> para pasar el modelo actual).</li>
<li><strong>Nota:</strong> Los nombres de plantilla son relativos a <code>templates_folder</code>, as√≠ que los referencias sin el prefijo <code>templates/</code>. Por ejemplo, usa <code>&quot;TranslationWarning&quot;</code> no <code>&quot;templates/TranslationWarning&quot;</code> (aunque esto √∫ltimo funcionar√° como respaldo).</li>
</ul>
</li>
<li><code>@await PartialAsync(&quot;ruta&quot;)</code>
<ul>
<li><strong>Enrutamiento inteligente basado en extensi√≥n de archivo:</strong>
<ul>
<li>Extensi√≥n <code>.cshtml</code> ‚Üí renderiza como plantilla Razor con el <code>Model</code> actual</li>
<li>Extensi√≥n <code>.md</code> ‚Üí renderiza como archivo markdown (puede definir su propia plantilla, por defecto <code>Default</code>, sin <code>SiteFrame.cshtml</code>)</li>
<li>Sin extensi√≥n ‚Üí verifica si existe una plantilla, de lo contrario trata como ruta de archivo markdown</li>
</ul>
</li>
<li>Ejemplos:
<ul>
<li><code>@await PartialAsync(&quot;topNav&quot;)</code> ‚Üí renderiza plantilla si existe <code>topNav.cshtml</code></li>
<li><code>@await PartialAsync(&quot;source/menu.md&quot;)</code> ‚Üí renderiza archivo markdown</li>
<li><code>@await PartialAsync(&quot;template/nav.cshtml&quot;)</code> ‚Üí renderiza expl√≠citamente como plantilla</li>
</ul>
</li>
</ul>
</li>
<li>Colecci√≥n <code>@Model.Headers</code>
<ul>
<li>Cada <code>h1</code>-<code>h6</code> ser√° parseado y agregado a esta colecci√≥n de headers.</li>
<li>Cada objeto <code>Header</code> tiene las siguientes propiedades:
<ul>
<li>Level: el valor num√©rico del header</li>
<li>Value: el texto</li>
<li>Slug: una versi√≥n slug del <code>Value</code>, que corresponde a un ancla agregada al HTML antes del header.</li>
</ul>
</li>
</ul>
</li>
</ul>
<a name="M√©todos_de_URL_y_Recursos"></a><h2>M√©todos de URL y Recursos</h2>
<p>Para generar URLs y referencias de recursos en tus plantillas:</p>
<ul>
<li><code>@Href(&quot;/ruta/a/pagina&quot;)</code>
<ul>
<li>Prefija una URL relativa al sitio con el BasePath configurado</li>
<li>Usa esto para enlaces de navegaci√≥n interna del sitio</li>
<li>Ejemplo: <code>&lt;a href=&quot;@Href(&quot;/about&quot;)&quot;&gt;Acerca de&lt;/a&gt;</code></li>
</ul>
</li>
<li><code>@Asset(&quot;/ruta/a/recurso.css&quot;)</code>
<ul>
<li>Construye una URL de recurso con BasePath e invalidaci√≥n autom√°tica de cach√© con versi√≥n</li>
<li>Combina tanto la aplicaci√≥n de BasePath como la adici√≥n de par√°metro de versi√≥n</li>
<li><strong>Importante</strong>: No agregues manualmente par√°metros de consulta a los resultados de Asset(), ya que esto entrar√° en conflicto con el par√°metro de versi√≥n autom√°tico</li>
<li>Ejemplo: <code>&lt;link href=&quot;@Asset(&quot;/css/main.css&quot;)&quot; rel=&quot;stylesheet&quot; /&gt;</code></li>
</ul>
</li>
</ul>
<a name="Ejemplos_de_M√©todos_de_URL"></a><h3>Ejemplos de M√©todos de URL</h3>
<pre><code class="language-html">&lt;!-- Enlaces de navegaci√≥n usando Href --&gt;
&lt;nav&gt;
    &lt;a href=&quot;@Href(&quot;/&quot;)&quot;&gt;Inicio&lt;/a&gt;
    &lt;a href=&quot;@Href(&quot;/docs&quot;)&quot;&gt;Documentaci√≥n&lt;/a&gt;
    &lt;a href=&quot;@Href(&quot;/about&quot;)&quot;&gt;Acerca de&lt;/a&gt;
&lt;/nav&gt;

&lt;!-- Referencias de recursos usando Asset (preferido para CSS/JS) --&gt;
&lt;link href=&quot;@Asset(&quot;/css/main.css&quot;)&quot; rel=&quot;stylesheet&quot; /&gt;
&lt;script src=&quot;@Asset(&quot;/js/app.js&quot;)&quot;&gt;&lt;/script&gt;

&lt;!-- Enfoque manual usando Href + WithVersion para m√°s control --&gt;
&lt;link href=&quot;@WithVersion(Href(&quot;/css/main.css&quot;))&quot; rel=&quot;stylesheet&quot; /&gt;
</code></pre>
<p><strong>‚ö†Ô∏è Advertencia de Conflicto de Invalidaci√≥n de Cach√©</strong>: Al usar <code>Asset()</code>, no agregues manualmente par√°metros de consulta o llames <code>WithVersion()</code> en el resultado, ya que <code>Asset()</code> ya incluye invalidaci√≥n de cach√©. Esto resultar√≠a en URLs malformadas como <code>/basePath/assets/script/samples?v=123/mysample.js</code>.</p>
<a name="M√©todos_de_Invalidaci√≥n_de_Cach√©"></a><h2>M√©todos de Invalidaci√≥n de Cach√©</h2>
<p>Para manejar el versionado de recursos e invalidaci√≥n de cach√©:</p>
<ul>
<li><code>@WithVersion(&quot;/ruta/a/recurso.css&quot;)</code>
<ul>
<li>Agrega un par√°metro de versi√≥n a las URLs de recursos para invalidaci√≥n de cach√© (ej., <code>/ruta/a/recurso.css?v=20231215123456</code>)</li>
<li>Solo agrega el par√°metro de versi√≥n cuando la invalidaci√≥n de cach√© est√° habilitada en la configuraci√≥n</li>
<li>Maneja correctamente los par√°metros de consulta existentes usando <code>&amp;</code> en lugar de <code>?</code> cuando es apropiado</li>
</ul>
</li>
<li><code>@BuildVersion</code>
<ul>
<li>Obtiene la cadena de versi√≥n de construcci√≥n actual, o <code>null</code> si la invalidaci√≥n de cach√© est√° deshabilitada</li>
<li>√ötil para mostrar informaci√≥n de versi√≥n o l√≥gica personalizada de invalidaci√≥n de cach√©</li>
</ul>
</li>
</ul>
<a name="Ejemplo_de_Invalidaci√≥n_de_Cach√©"></a><h3>Ejemplo de Invalidaci√≥n de Cach√©</h3>
<pre><code class="language-html">&lt;!-- Enfoque recomendado usando WithVersion --&gt;
&lt;link href=&quot;@WithVersion(&quot;/assets/main.css&quot;)&quot; rel=&quot;stylesheet&quot; /&gt;
&lt;script src=&quot;@WithVersion(&quot;/assets/site.js&quot;)&quot;&gt;&lt;/script&gt;

&lt;!-- Enfoque manual usando BuildVersion --&gt;
@if (BuildVersion != null)
{
    &lt;link href=&quot;/assets/main.css?v=@BuildVersion&quot; rel=&quot;stylesheet&quot; /&gt;
}
else
{
    &lt;link href=&quot;/assets/main.css&quot; rel=&quot;stylesheet&quot; /&gt;
}
</code></pre>
<a name="Parciales_y_Plantillas_Localizadas"></a><h2>Parciales y Plantillas Localizadas</h2>
<p>Chloroplast proporciona m√©todos auxiliares para simplificar el renderizado de parciales espec√≠ficos por idioma (tanto archivos de contenido Markdown como parciales Razor) sin incrustar l√≥gica espec√≠fica de localizaci√≥n en cada archivo <code>.cshtml</code>.</p>
<p>Estos helpers mantienen tus plantillas limpias y permiten que los autores agreguen variantes localizadas simplemente creando archivos que sigan una convenci√≥n de nombres (por ejemplo <code>menu.es.md</code>).</p>
<a name="M√©todos_Helper"></a><h3>M√©todos Helper</h3>
<table>
<thead>
<tr>
<th>M√©todo</th>
<th>Prop√≥sito</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ResolveLocalizedContentPath(basePath, locale?)</code></td>
<td>Devuelve la ruta relativa localizada si existe (por ejemplo <code>source/menu.es.md</code>), de lo contrario la ruta base. No renderiza nada.</td>
</tr>
<tr>
<td><code>InsertLocaleBeforeExtension(path, locale)</code></td>
<td>Convierte <code>file.md</code> en <code>file.es.md</code> (usado internamente; disponible si necesitas l√≥gica personalizada).</td>
</tr>
<tr>
<td><code>LocalizedMarkdownPartialAsync(basePath, locale?)</code></td>
<td>Renderiza un parcial Markdown localizado, usando el archivo base si falta el localizado.</td>
</tr>
<tr>
<td><code>LocalizedTemplatePartialAsync&lt;TModel&gt;(baseName, model, locale?, fallbackToBase=true)</code></td>
<td>Renderiza un parcial Razor, intentando <code>baseName.{locale}</code> primero cuando el locale != predeterminado, luego usando el base.</td>
</tr>
</tbody>
</table>
<a name="Ejemplos_de_Uso"></a><h3>Ejemplos de Uso</h3>
<p>Renderizar un men√∫ Markdown localizado (intenta <code>source/menu.&lt;locale&gt;.md</code> primero):</p>
<pre><code class="language-razor">@await LocalizedMarkdownPartialAsync(&quot;source/menu.md&quot;)
</code></pre>
<p>Renderizar un parcial Razor localizado (ej. <code>TranslationWarning.cshtml</code> + opcional <code>TranslationWarning.es.cshtml</code>):</p>
<pre><code class="language-razor">@(await LocalizedTemplatePartialAsync(&quot;TranslationWarning&quot;, Model))
</code></pre>
<p>Forzar un locale espec√≠fico (√∫til para selectores de idioma o vistas previas):</p>
<pre><code class="language-razor">@* Mostrar c√≥mo se ver√≠a el men√∫ de esta p√°gina en Espa√±ol *@
@await LocalizedMarkdownPartialAsync(&quot;source/menu.md&quot;, locale: &quot;es&quot;)
</code></pre>
<a name="Convenciones_de_Nombres_de_Archivos"></a><h3>Convenciones de Nombres de Archivos</h3>
<p>Archivo base:</p>
<pre><code>source/menu.md
</code></pre>
<p>Agregar una variante localizada insertando el locale antes de la extensi√≥n:</p>
<pre><code>source/menu.es.md
source/menu.fr.md
</code></pre>
<p>Para parciales Razor (sin extensi√≥n en la llamada):</p>
<pre><code>TranslationWarning.cshtml
TranslationWarning.es.cshtml
TranslationWarning.fr.cshtml
</code></pre>
<a name="Comportamiento_de_Fallback"></a><h3>Comportamiento de Fallback</h3>
<ol>
<li>Se solicita un locale no predeterminado ‚Üí se busca la variante localizada.</li>
<li>Si existe ‚Üí se renderiza.</li>
<li>Si falta ‚Üí se usa el archivo base (fallback sin excepci√≥n).</li>
<li>Puedes forzar una excepci√≥n en lugar de fallback con <code>fallbackToBase: false</code> en <code>LocalizedTemplatePartialAsync</code>.</li>
</ol>
<a name="Cu√°ndo_Usar_Cada_Uno"></a><h3>Cu√°ndo Usar Cada Uno</h3>
<table>
<thead>
<tr>
<th>Situaci√≥n</th>
<th>Usar</th>
</tr>
</thead>
<tbody>
<tr>
<td>Renderizar un fragmento de contenido Markdown (ej. sidebar, footer)</td>
<td><code>LocalizedMarkdownPartialAsync</code></td>
</tr>
<tr>
<td>Renderizar un parcial Razor (l√≥gica din√°mica, modelo personalizado)</td>
<td><code>LocalizedTemplatePartialAsync</code></td>
</tr>
<tr>
<td>Solo necesitas la ruta resuelta para l√≥gica personalizada</td>
<td><code>ResolveLocalizedContentPath</code></td>
</tr>
</tbody>
</table>
<a name="Migrando_L√≥gica_Existente"></a><h3>Migrando L√≥gica Existente</h3>
<p>Si antes ten√≠as l√≥gica manual como:</p>
<pre><code class="language-razor">@{
  var baseMenu = &quot;source/menu.md&quot;;
  var localized = CurrentLocale != SiteConfig.DefaultLocale ? $&quot;source/menu.{CurrentLocale}.md&quot; : baseMenu;
  // ... comprobaciones de existencia ...
}
@await PartialAsync(menuPathToUse)
</code></pre>
<p>Reempl√°zalo con:</p>
<pre><code class="language-razor">@await LocalizedMarkdownPartialAsync(&quot;source/menu.md&quot;)
</code></pre>
<p>Y para avisos / advertencias localizadas:</p>
<pre><code class="language-razor">@(await LocalizedTemplatePartialAsync(&quot;TranslationWarning&quot;, Model))
</code></pre>
<a name="Personalizaci√≥n"></a><h3>Personalizaci√≥n</h3>
<p>Todav√≠a puedes construir abstracciones de nivel superior sobre estos m√©todos (ej. un helper <code>RenderSidebar()</code>) en una clase base de plantilla derivada. Los helpers proporcionados evitan deliberadamente suposiciones sobre nombres de archivos espec√≠ficos m√°s all√° de la convenci√≥n de inserci√≥n de locale.</p>
<a name="Casos_Borde_y_Notas"></a><h3>Casos Borde y Notas</h3>
<ul>
<li>Si un archivo no tiene extensi√≥n (ej. <code>fragment</code>), una variante localizada se convierte en <code>fragment.es</code>.</li>
<li><code>InsertLocaleBeforeExtension</code> solo modifica el segmento final; las rutas anidadas se preservan.</li>
<li>La comprobaci√≥n de existencia usa la <code>root</code> configurada y respeta los separadores de directorio de la plataforma.</li>
<li>Estos helpers no modifican la localizaci√≥n de URLs‚Äîsolo gestionan qu√© archivo de contenido fuente se renderiza.</li>
</ul>
<hr>
<p>Con estos helpers puedes mantener las plantillas concisas mientras permites que los colaboradores agreguen contenido localizado simplemente creando archivos con nombres apropiados.</p>

        </div>
    </div>
</div>

    <footer>
        <div class="container">
            <ul class="nav justify-content-center border-bottom pb-3 mb-3">
                <li class="nav-item"><a href="/es/" class="nav-link text-muted">Home</a></li>
                <li class="nav-item"><a href="https://github.com/WildernessLabs/Chloroplast" class="nav-link text-muted">GitHub</a></li>
                <li class="nav-item"><a href="https://www.wildernesslabs.co/" class="nav-link text-muted">Wilderness Labs</a></li>
                <li class="nav-item"><a href="https://community.wildernesslabs.co/" class="nav-link text-muted">Community</a></li>
                <li class="nav-item"><a href="https://blog.wildernesslabs.co/" class="nav-link text-muted">Blog</a></li>
            </ul>
            <p class="text-center text-muted">Made with ‚ô• at <a href="https://wildernesslabs.co">wildernesslabs.co</a></p>
        </div>
    </footer>
</body>
</html>
