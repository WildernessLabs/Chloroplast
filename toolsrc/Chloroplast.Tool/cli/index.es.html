<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interfaz de L&#237;nea de Comandos</title>
    <link href="/Chloroplast/assets/main.css?v=20250817144954" rel="stylesheet" />
</head>
<body>
    <header>
        <div class="container">
            <h1><a href="/Chloroplast/">Chloroplast Docs</a></h1>
        </div>
    </header>

    <div class="container" style="margin-left:0; max-width:100%;">
    <div class="row">
        
<div id="leftnav">
            <ul class="nav">
                <li class="nav-item">
                    <a href="/Chloroplast/installing/" class="nav-link">Installing</a>
                </li>
                <li class="nav-item">
                    <a href="/Chloroplast/cli/" class="nav-link">Command Line</a>
                </li>
                <li class="nav-item">
                    <a href="/Chloroplast/templates/" class="nav-link">Templates</a>
                </li>
        </ul>

</div>
        <div class="main-content">
            <h2>Interfaz de L&#237;nea de Comandos</h2>
            
                <div class="machine-translation-warning" role="alert" style="background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 0.75rem; margin-bottom: 1rem; border-radius: 0.25rem;">
                    <strong>ü§ñ Machine Translation:</strong> 
                    This content was automatically translated and may contain errors.
                </div>
            
            <p>Chloroplast soporta varios subcomandos. Se recomienda primero hacer <code>cd</code> a la carpeta ra√≠z de tu proyecto, y ejecutar los comandos con los valores predeterminados seg√∫n sea apropiado.</p>
<a name="Subcomando_new"></a><h2>Subcomando <code>new</code></h2>
<p>El subcomando new te permite arrancar un sitio chloroplast copiando archivos a una carpeta de destino.</p>
<pre><code>chloroplast new conceptual carpetaObjetivo
</code></pre>
<p>Esto crear√° <code>carpetaObjetivo</code> (si no existe ya), y copiar√° archivos de la plantilla <code>conceptual</code>. Luego puedes ejecutar los siguientes comandos para construir y previsualizar el sitio localmente:</p>
<pre><code>cd carpetaObjetivo
chloroplast build
chloroplast host
</code></pre>
<a name="par√°metros"></a><h3>par√°metros</h3>
<ul>
<li><code>conceptual</code>: El segundo par√°metro posicional despu√©s de <code>new</code>.
<ul>
<li>Actualmente esto solo soportar√° <code>conceptual</code>, que ser√° una copia de esta documentaci√≥n.</li>
<li>Eventualmente tendremos m√°s plantillas, y eventualmente abriremos a contribuciones de la comunidad.</li>
</ul>
</li>
<li><code>carpetaObjetivo</code>: el tercer par√°metro posicional despu√©s de <code>new</code> es el nombre de la carpeta objetivo donde se colocar√°n los archivos de plantilla.</li>
</ul>
<a name="Subcomando_build"></a><h2>Subcomando <code>build</code></h2>
<p>El subcomando build construir√° un sitio Chloroplast</p>
<pre><code>chloroplast build --root ruta/a/SiteConfig/ --out ruta/a/salida
</code></pre>
<a name="par√°metros"></a><h3>par√°metros</h3>
<ul>
<li><code>root</code>: la ruta al directorio que contiene un archivo <code>SiteConfig.yml</code></li>
<li><code>out</code>: la ruta al directorio donde se generar√° el HTML resultante.</li>
<li><code>normalizePaths</code>: por defecto <code>true</code>, que normaliza todas las rutas a min√∫sculas. Establece esto a false para que las rutas de salida coincidan con las may√∫sculas y min√∫sculas de origen.</li>
<li><code>errorLogPath</code>: ruta opcional para escribir informaci√≥n detallada de errores a un archivo de registro</li>
<li><code>buildVersion</code>: cadena de versi√≥n opcional para agregar a las referencias CSS y JavaScript para invalidar la cach√©. Si no se proporciona, se genera autom√°ticamente una marca de tiempo en el formato <code>yyyyMMddHHmmss</code>.</li>
</ul>
<p>Los par√°metros anteriores utilizar√°n por defecto el directorio de trabajo actual para la ruta ra√≠z, y un directorio <code>out/</code> en esa misma ruta si ambos par√°metros se omiten.</p>
<p>El comando build renderizar√° todos los archivos <code>index.md</code> en archivos <code>index.html</code> correspondientes, y copiar√° todo lo dem√°s a la misma ubicaci√≥n correspondiente (im√°genes, estilos, etc).</p>
<p>Adem√°s, el comando build generar√° autom√°ticamente archivos XML de sitemap si un <code>baseUrl</code> est√° configurado en tu <code>SiteConfig.yml</code>. Esto ayuda con el SEO y la indexaci√≥n de motores de b√∫squeda.</p>
<a name="Manejo_de_Errores"></a><h3>Manejo de Errores</h3>
<p>El comando build proporciona manejo integral de errores para ayudar a diagnosticar problemas sin sobrecargar la salida de consola:</p>
<ul>
<li><strong>Salida de Consola</strong>: Mensajes de error limpios y concisos que muestran la informaci√≥n esencial necesaria para solucionar problemas</li>
<li><strong>Archivo de Registro de Errores</strong>: Informaci√≥n detallada de errores incluyendo trazas completas de pila y c√≥digo fuente generado</li>
</ul>
<h4>Configurando el Registro de Errores</h4>
<p>Puedes configurar el registro de errores de dos maneras:</p>
<p><strong>1. Par√°metro de L√≠nea de Comandos:</strong></p>
<pre><code class="language-bash">chloroplast build --errorLogPath /ruta/a/registro-errores.txt
</code></pre>
<p><strong>2. Configuraci√≥n en SiteConfig.yml:</strong></p>
<pre><code class="language-yaml"># Configuraci√≥n de registro de errores
errorLogPath: logs/build-errors.log
</code></pre>
<h4>Beneficios del Registro de Errores</h4>
<ul>
<li><strong>La consola se mantiene legible</strong>: Solo se muestra informaci√≥n esencial de errores en la terminal</li>
<li><strong>Informaci√≥n completa de depuraci√≥n</strong>: Trazas completas de pila, c√≥digo fuente generado e informaci√≥n detallada de excepciones se escriben al archivo de registro</li>
<li><strong>Recolecci√≥n de m√∫ltiples errores</strong>: Todos los errores encontrados durante la construcci√≥n se recolectan y muestran juntos</li>
<li><strong>Seguimiento de marcas de tiempo</strong>: Cada error incluye informaci√≥n de marca de tiempo para soluci√≥n de problemas</li>
</ul>
<h4>Ejemplo de Salida de Errores</h4>
<p><strong>Salida de Consola:</strong></p>
<pre><code>=== ERRORES DE CONSTRUCCI√ìN ===
Se encontraron 1 error(es) durante la construcci√≥n:

[20:17:21] Error en 'Inicializaci√≥n de plantilla': Fall√≥ la inicializaci√≥n del renderizador de contenido
    Fall√≥ la compilaci√≥n de plantilla:
    Error(es):
    - Template.cs(4,26): error CS1010: Nueva l√≠nea en constante
    - Template.cs(4,61): error CS1002: ; esperado

Detalles del error escritos en: /tmp/build-errors.log
</code></pre>
<p><strong>Contenido del Archivo de Registro de Errores:</strong></p>
<ul>
<li>Trazas completas de pila de excepciones</li>
<li>C√≥digo fuente completo generado para errores de compilaci√≥n de plantillas</li>
<li>Rutas de archivos detalladas y contexto de procesamiento</li>
<li>Marcas de tiempo para todos los errores encontrados</li>
</ul>
<a name="Subcomando_host"></a><h2>Subcomando <code>host</code></h2>
<p>El subcomando host inicia un servidor web HTML simple. √ötil para previsualizaci√≥n local durante el desarrollo o incluso creaci√≥n. Si actualizas archivos markdown, el contenido se reconstruir√° autom√°ticamente para que solo tengas que actualizar el navegador.</p>
<pre><code>chloroplast host --root ruta/a/ra√≠z --out ruta/a/html 
</code></pre>
<p>Puedes simplemente presionar la tecla enter para terminar esta tarea despu√©s de detener el servidor web con Ctrl+C en cualquier momento.</p>
<p>Si est√°s actualizando plantillas razor, tambi√©n puedes ejecutar este comando en una ventana de terminal separada y dejarlo ejecut√°ndose. De esa manera, mientras ejecutas el subcomando completo <code>build</code>, el contenido y los estilos del front-end se actualizar√°n, y puedes simplemente actualizar el navegador despu√©s de que esa construcci√≥n se haya completado.</p>
<a name="par√°metros"></a><h3>par√°metros</h3>
<ul>
<li><code>out</code>: Este debe ser el mismo valor que el par√°metro <code>out</code> usado en el comando <code>build</code>.</li>
</ul>
<p>El par√°metro anterior utilizar√° por defecto la carpeta <code>out/</code> en el directorio de trabajo actual, si se omite.</p>
<a name="Generaci√≥n_de_Sitemap"></a><h2>Generaci√≥n de Sitemap</h2>
<p>El comando build genera autom√°ticamente archivos XML de sitemap cuando un <code>baseUrl</code> est√° configurado en tu <code>SiteConfig.yml</code>. Esto ayuda a los motores de b√∫squeda a descubrir e indexar el contenido de tu sitio.</p>
<a name="Configuraci√≥n"></a><h3>Configuraci√≥n</h3>
<p>Agrega lo siguiente a tu <code>SiteConfig.yml</code> para configurar la generaci√≥n de sitemap:</p>
<pre><code class="language-yaml"># URL base para tu sitio (requerido para la generaci√≥n de sitemap)
baseUrl: https://tu-sitio.com

# Configuraci√≥n opcional de sitemap
sitemap:
  enabled: true              # Habilitar/deshabilitar generaci√≥n de sitemap (por defecto: true)
  maxUrlsPerSitemap: 50000   # URLs m√°ximas por archivo de sitemap (por defecto: 50000)
</code></pre>
<a name="Comportamiento"></a><h3>Comportamiento</h3>
<ul>
<li><strong>Sitemap √∫nico</strong>: Para sitios con menos URLs que el umbral configurado, se genera un √∫nico archivo <code>sitemap.xml</code></li>
<li><strong>M√∫ltiples sitemaps</strong>: Para sitios m√°s grandes, se crean m√∫ltiples archivos de sitemap (<code>sitemap1.xml</code>, <code>sitemap2.xml</code>, etc.) con un archivo √≠ndice de sitemap (<code>sitemap.xml</code>) que los referencia</li>
<li><strong>Filtrado de contenido</strong>: Solo se incluyen archivos HTML en los sitemaps; recursos como CSS, im√°genes y otros archivos se excluyen</li>
<li><strong>Marcas de tiempo</strong>: Cada entrada de URL incluye una marca de tiempo de √∫ltima modificaci√≥n basada en la fecha de modificaci√≥n del archivo</li>
</ul>
<a name="Invalidaci√≥n_de_Cach√©"></a><h2>Invalidaci√≥n de Cach√©</h2>
<p>Chloroplast agrega autom√°ticamente par√°metros de versi√≥n a las referencias CSS y JavaScript para asegurar la invalidaci√≥n de la cach√© del navegador cuando se actualizan los recursos. Esta caracter√≠stica ayuda a prevenir que los usuarios vean estilos o scripts obsoletos despu√©s de los despliegues.</p>
<a name="Configuraci√≥n"></a><h3>Configuraci√≥n</h3>
<p>Agrega lo siguiente a tu <code>SiteConfig.yml</code> para controlar el comportamiento de invalidaci√≥n de cach√©:</p>
<pre><code class="language-yaml"># Configuraci√≥n de invalidaci√≥n de cach√©
cacheBusting:
  enabled: true  # Habilitar/deshabilitar invalidaci√≥n de cach√© (por defecto: true)
</code></pre>
<a name="Uso_en_Plantillas"></a><h3>Uso en Plantillas</h3>
<p>En tus plantillas Razor, usa el m√©todo <code>WithVersion()</code> para agregar par√°metros de versi√≥n a las URLs de recursos:</p>
<pre><code class="language-html">&lt;!-- CSS con invalidaci√≥n de cach√© --&gt;
&lt;link href=&quot;@WithVersion(&quot;/assets/main.css&quot;)&quot; rel=&quot;stylesheet&quot; /&gt;

&lt;!-- JavaScript con invalidaci√≥n de cach√© --&gt;
&lt;script src=&quot;@WithVersion(&quot;/assets/site.js&quot;)&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
</code></pre>
<a name="Uso_en_L√≠nea_de_Comandos"></a><h3>Uso en L√≠nea de Comandos</h3>
<p>Puedes especificar una versi√≥n de construcci√≥n personalizada al ejecutar el comando build:</p>
<pre><code class="language-bash"># Usar una versi√≥n personalizada
chloroplast build --buildVersion &quot;v1.2.3&quot;

# Usar versi√≥n de marca de tiempo autom√°tica (por defecto)
chloroplast build
</code></pre>
<a name="Comportamiento"></a><h3>Comportamiento</h3>
<ul>
<li><strong>Cuando est√° habilitado</strong>: Las URLs de recursos se anexan con el par√°metro <code>?v={version}</code> (ej., <code>/assets/main.css?v=20231215123456</code>)</li>
<li><strong>Cuando est√° deshabilitado</strong>: Las URLs de recursos permanecen sin cambios (ej., <code>/assets/main.css</code>)</li>
<li><strong>Versionado autom√°tico</strong>: Si no se especifica <code>--buildVersion</code>, se genera autom√°ticamente una marca de tiempo en formato <code>yyyyMMddHHmmss</code></li>
<li><strong>Manejo de par√°metros de consulta</strong>: El par√°metro de versi√≥n se anexa correctamente con <code>&amp;</code> si la URL ya contiene par√°metros de consulta</li>
</ul>

        </div>
    </div>
</div>

    <footer>
        <div class="container">
            <ul class="nav justify-content-center border-bottom pb-3 mb-3">
                <li class="nav-item"><a href="/Chloroplast/" class="nav-link text-muted">Home</a></li>
                <li class="nav-item"><a href="https://github.com/WildernessLabs/Chloroplast" class="nav-link text-muted">GitHub</a></li>
                <li class="nav-item"><a href="https://www.wildernesslabs.co/" class="nav-link text-muted">Wilderness Labs</a></li>
                <li class="nav-item"><a href="https://community.wildernesslabs.co/" class="nav-link text-muted">Community</a></li>
                <li class="nav-item"><a href="https://blog.wildernesslabs.co/" class="nav-link text-muted">Blog</a></li>
            </ul>
            <p class="text-center text-muted">Made with ‚ô• at <a href="https://wildernesslabs.co">wildernesslabs.co</a></p>
        </div>
    </footer>
</body>
</html>
